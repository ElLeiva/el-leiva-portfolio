<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Santiago Leiva — Resume</title>
  <link rel="stylesheet" href="assets/css/styles.css">
</head>

<body>

<header>
  <h1>Santiago Leiva</h1>
  <p>Junior Programmer / Game Development Student</p>
  <p>Argentina (Córdoba, Villa María)</p>
</header>

<section class="grid-container">

  <!-- PROFILE -->
  <article class="grid-item">
    <div class="modal-scroll">
      <h2>Profile</h2>
      <button class="play-button" onclick="toggleExpand(this, 'profile-more')">
        ▶ View More
      </button>
      <div id="profile-more" class="expandable">
        <div class="inner-grid">
          <p>
            Aspiring programmer and game developer with strong interest in systems,
            tools, and interactive experiences. Currently building a technical
            portfolio through small games, prototypes, and tools.
          </p>
        </div>
      </div>
    </div>
  </article>

  <!-- EDUCATION -->
  <article class="grid-item">
    <div class="modal-scroll">
      <h2>Education</h2>
      <button class="play-button" onclick="toggleExpand(this, 'education-more')">
        ▶ View More
      </button>
      <div id="education-more" class="expandable">
        <div class="inner-grid">
          <p><strong>Manuel Belgrano High School</strong> — Economics & Administration (2024)</p>
          <p><strong>Upcoming:</strong> Programmer Degree (March)</p>
        </div>
      </div>
    </div>
  </article>

  <!-- SKILLS -->
  <article class="grid-item">
    <div class="modal-scroll">
      <h2>Technical Skills</h2>
      <button class="play-button" onclick="toggleExpand(this, 'skills-more')">
        ▶ View More
      </button>
      <div id="skills-more" class="expandable">
        <div class="inner-grid">
          <ul>
            <li>Python, JavaScript, HTML, CSS</li>
            <li>Godot, Unreal Engine</li>
            <li>Blender, Git/GitHub, VS Code</li>
            <li>Audacity, LMMS, DaVinci Resolve</li>
          </ul>
        </div>
      </div>
    </div>
  </article>

</section>

<script>
let savedScrollY = 0;
let active = null;

function isMobile() {
  return window.matchMedia('(max-width: 600px)').matches;
}

function toggleExpand(button, id) {
  const item = button.closest('.grid-item');
  const content = document.getElementById(id);
  const isOpen = content.classList.contains('show');

  /* ===== MOBILE: INLINE ===== */
  if (isMobile()) {
    content.classList.toggle('show');
    button.textContent = isOpen ? '▶ View More' : '▼ Show Less';

    if (!isOpen) {
      item.scrollIntoView({ behavior: 'smooth', block: 'start' });
    }
    return;
  }

  /* ===== DESKTOP: MODAL ===== */
  if (active) closeModal();

  savedScrollY = window.scrollY;
  document.body.style.position = 'fixed';
  document.body.style.top = `-${savedScrollY}px`;
  document.body.style.width = '100%';

  document.querySelectorAll('.grid-item').forEach(i => {
    if (i !== item) i.style.display = 'none';
  });

  item.classList.add('expanded');
  content.classList.add('show');
  button.textContent = '▼ Show Less';

  const backdrop = document.createElement('div');
  backdrop.className = 'modal-backdrop';
  backdrop.onclick = closeModal;
  document.body.appendChild(backdrop);

  active = { item, content, button };
}

function closeModal() {
  if (!active) return;

  active.item.classList.remove('expanded');
  active.content.classList.remove('show');
  active.button.textContent = '▶ View More';

  document.querySelectorAll('.grid-item').forEach(i => {
    i.style.display = 'block';
  });

  document.querySelector('.modal-backdrop')?.remove();

  document.body.style.position = '';
  document.body.style.top = '';
  document.body.style.width = '';
  window.scrollTo(0, savedScrollY);

  active = null;
}

document.addEventListener('keydown', e => {
  if (e.key === 'Escape') closeModal();
});
</script>

<footer>
  <p><a href="contact.html">Contact</a></p>
  <p>Built and maintained by El Leiva</p>
</footer>

</body>
</html>
